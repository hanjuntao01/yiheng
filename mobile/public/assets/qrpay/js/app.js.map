{"version":3,"sources":["webpack:///static/js/app.js","webpack:///./src/App.vue?b9fe","webpack:///./src/components/Currency.vue?55bf","webpack:///./src/App.vue?81b3","webpack:///./src/components/Currency.vue?c87d","webpack:///App.vue","webpack:///Currency.vue","webpack:///./src/filters/currency_validator.js","webpack:///./src/main.js"],"names":["webpackJsonp","18","module","exports","__webpack_require__","injectStyle","ssrContext","Component","19","20","40","41","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","text-align","margin-top","font-size","color","attrs","name","_v","qrcode","type","_s","seller","amount","title","qrpay_name","icon","isGray","updateGray","on","update:updateGray","$event","model","value","callback","$$v","expression","offset","span","block","click","doPay","staticRenderFns","42","label","_e","ref","class","gray","maxlength","domProps","input","updateValue","target","focus","selectAll","blur","formatValue","43","44","63","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vant__","__WEBPACK_IMPORTED_MODULE_1__components_Currency__","n","__WEBPACK_IMPORTED_MODULE_1__components_Currency___default","__WEBPACK_IMPORTED_MODULE_2_qs__","__WEBPACK_IMPORTED_MODULE_2_qs___default","data","qrpay_id","isReadonly","locked","components","currency-input","a","created","window","getQrcodeDetail","methods","that","parseFloat","isNaN","i","message","forbidClick","axios","post","home_url","stringify","id","_ajax","then","response","res","error","alert","paycode","open","payment","callpay","JSON","parse","catch","console","log","get","parseInt","params","jsApiCall","ret","WeixinJSBridge","invoke","err_msg","location","href","document","addEventListener","attachEvent","64","__WEBPACK_IMPORTED_MODULE_0__filters_currency_validator__","props","Number","default","String","Boolean","mounted","result","$emit","warning","$refs","format","event","setTimeout","select","65","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_math_trunc__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_math_trunc___default","currencyValidator","number","toFixed","newString","oldNumber","CleanParse","CurrencyWarning","attempt","NotAValidDollarAmountWarning","AutomaticConversionWarning","newNumber","indexOfDot","indexOf","indexOfE","length","slice","newCurrencyString","newCurrencyNumber","66","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2_vant__","__WEBPACK_IMPORTED_MODULE_2_vant___default","__WEBPACK_IMPORTED_MODULE_3_vant_lib_vant_css_index_css__","__WEBPACK_IMPORTED_MODULE_4__assets_styles_common_css__","defaults","headers","common","config","productionTip","use","el","template","App"],"mappings":"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","file":"static/js/app.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 18:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(43)\n}\nvar Component = __webpack_require__(11)(\n  /* script */\n  __webpack_require__(63),\n  /* template */\n  __webpack_require__(41),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-229a9de2\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 20:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(44)\n}\nvar Component = __webpack_require__(11)(\n  /* script */\n  __webpack_require__(64),\n  /* template */\n  __webpack_require__(42),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-f026bcd0\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"paycode\"\n  }, [_c('van-row', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"margin-top\": \"3rem\"\n    }\n  }, [_c('van-icon', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"font-size\": \"4rem\",\n      \"color\": \"red\"\n    },\n    attrs: {\n      \"name\": \"receive-gift\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"1rem\"\n    }\n  }, [(_vm.qrcode.type == '0') ? _c('span', [_vm._v(_vm._s(_vm.seller))]) : _c('span', {\n    staticStyle: {\n      \"font-size\": \"2rem\"\n    }\n  }, [_vm._v(\"￥\" + _vm._s(_vm.qrcode.amount))])])], 1), _vm._v(\" \"), (_vm.qrcode.type == '1') ? _c('van-row', {\n    staticStyle: {\n      \"margin-top\": \"2rem\"\n    }\n  }, [_c('van-cell-group', [_c('van-cell', {\n    attrs: {\n      \"title\": \"收款理由：\"\n    }\n  }, [_vm._v(_vm._s(_vm.qrcode.qrpay_name))])], 1)], 1) : _c('van-row', {\n    staticStyle: {\n      \"margin-top\": \"2rem\"\n    }\n  }, [_c('van-cell-group', [_c('van-cell', {\n    attrs: {\n      \"title\": \" 付款金额\",\n      \"icon\": \"edit\"\n    }\n  }), _vm._v(\" \"), _c('currency-input', {\n    attrs: {\n      \"isGray\": _vm.isGray,\n      \"updateGray\": _vm.isGray\n    },\n    on: {\n      \"update:updateGray\": function($event) {\n        _vm.isGray = $event\n      }\n    },\n    model: {\n      value: (_vm.qrcode.amount),\n      callback: function($$v) {\n        _vm.qrcode.amount = $$v\n      },\n      expression: \"qrcode.amount\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('van-row', {\n    staticStyle: {\n      \"margin-top\": \"2rem\"\n    }\n  }, [_c('van-col', {\n    attrs: {\n      \"offset\": \"2\",\n      \"span\": \"20\"\n    }\n  }, [_c('van-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"block\": \"\"\n    },\n    on: {\n      \"click\": _vm.doPay\n    }\n  }, [_vm._v(\"立即支付\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"currency\"\n  }, [(_vm.label) ? _c('label', [_vm._v(_vm._s(_vm.label))]) : _vm._e(), _vm._v(\" \"), _c('input', {\n    ref: \"input\",\n    class: {\n      gray: _vm.isGray\n    },\n    attrs: {\n      \"maxlength\": \"7\"\n    },\n    domProps: {\n      \"value\": _vm.value\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.updateValue($event.target.value)\n      },\n      \"focus\": _vm.selectAll,\n      \"blur\": _vm.formatValue\n    }\n  })])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vant__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vant___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vant__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Currency__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Currency___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_Currency__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_qs__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_qs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_qs__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'paycode',\n  data: function data() {\n    return {\n      qrpay_id: 0,\n      isGray: true,\n      isReadonly: false,\n      seller: '',\n      qrcode: [],\n      locked: false\n    };\n  },\n  components: {\n    'currency-input': __WEBPACK_IMPORTED_MODULE_1__components_Currency___default.a\n  },\n  created: function created() {\n    this.qrpay_id = window.qrpay_id || 0;\n    this.getQrcodeDetail(this.qrpay_id);\n  },\n  methods: {\n    doPay: function doPay() {\n      var that = this;\n      if (that.locked == false) {\n        that.locked = true;\n        var amount = parseFloat(that.qrcode.amount);\n        if (isNaN(amount)) {\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_vant__[\"Toast\"])({\n            message: '请输入支付金额',\n            forbidClick: true\n          });\n        }\n\n        axios.post(window.home_url + '/index.php?m=qrpay&a=pay', __WEBPACK_IMPORTED_MODULE_2_qs___default.a.stringify({\n          id: that.qrpay_id,\n          amount: that.qrcode.amount,\n          _ajax: 1\n        })).then(function (response) {\n          that.locked = false;\n          var res = response.data;\n          if (res.error > 0) {\n            alert(res.message);\n          }\n\n          // just do it\n          if (res.paycode == 'alipay') {\n            window.open(res.payment);\n          } else if (res.paycode == 'wxpay') {\n            that.callpay(JSON.parse(res.payment));\n          }\n\n          // console.log(response);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    },\n    getQrcodeDetail: function getQrcodeDetail(id) {\n      var that = this;\n      axios.get(window.home_url + '/index.php?m=qrpay&id=' + parseInt(id), {\n        params: { _ajax: 1 }\n      }).then(function (response) {\n        that.seller = response.data.seller;\n        that.qrcode = response.data.qrcode;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    jsApiCall: function jsApiCall(ret) {\n      WeixinJSBridge.invoke(\"getBrandWCPayRequest\", ret, function (res) {\n        if (res.err_msg == \"get_brand_wcpay_request:ok\") {\n          location.href = window.home_url + '/index.php?m=qrpay&a=callback&status=1&id=' + this.qrpay_id;\n        } else {\n          location.href = window.home_url + '/index.php?m=qrpay&a=callback&status=0&id=' + this.qrpay_id;\n        }\n      });\n    },\n    callpay: function callpay(ret) {\n      if (typeof WeixinJSBridge == \"undefined\") {\n        if (document.addEventListener) {\n          document.addEventListener(\"WeixinJSBridgeReady\", this.jsApiCall(ret), false);\n        } else if (document.attachEvent) {\n          document.attachEvent(\"WeixinJSBridgeReady\", this.jsApiCall(ret));\n          document.attachEvent(\"onWeixinJSBridgeReady\", this.jsApiCall(ret));\n        }\n      } else {\n        this.jsApiCall(ret);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__filters_currency_validator__ = __webpack_require__(65);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'currency',\n  props: {\n    value: {\n      type: Number,\n      default: 0\n    },\n    label: {\n      type: String,\n      default: '￥'\n    },\n    isGray: {\n      type: Boolean,\n      default: true\n    },\n    isReadonly: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mounted: function mounted() {\n    this.formatValue();\n  },\n  methods: {\n    updateValue: function updateValue(value) {\n      var result = __WEBPACK_IMPORTED_MODULE_0__filters_currency_validator__[\"a\" /* default */].parse(value, this.value);\n      this.$emit('update:updateGray', result.value === 0);\n      if (result.warning) {\n        this.$refs.input.value = result.value;\n      }\n      result.value = result.value >= 10000 ? 9999.99 : result.value;\n      this.$emit('input', result.value);\n    },\n    formatValue: function formatValue() {\n      this.$refs.input.value = __WEBPACK_IMPORTED_MODULE_0__filters_currency_validator__[\"a\" /* default */].format(this.value);\n    },\n    selectAll: function selectAll(event) {\n      // Workaround for Safari bug\n      // http://stackoverflow.com/questions/1269722/selecting-text-on-focus-using-jquery-not-working-in-safari-and-chrome\n      setTimeout(function () {\n        event.target.select();\n      }, 0);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_math_trunc__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_math_trunc___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_math_trunc__);\n\nvar currencyValidator = {\n  format: function format(number) {\n    return (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_math_trunc___default()(number * 1000000000000) / 1000000000000).toFixed(2);\n  },\n  parse: function parse(newString, oldNumber) {\n    var CleanParse = function CleanParse(value) {\n      return { value: value };\n    };\n    var CurrencyWarning = function CurrencyWarning(warning, value) {\n      return {\n        warning: warning,\n        value: value,\n        attempt: newString\n      };\n    };\n    var NotAValidDollarAmountWarning = function NotAValidDollarAmountWarning(value) {\n      return new CurrencyWarning(newString + ' is not a valid dollar amount', value);\n    };\n    var AutomaticConversionWarning = function AutomaticConversionWarning(value) {\n      return new CurrencyWarning(newString + ' was automatically converted to ' + value, value);\n    };\n\n    var newNumber = Number(newString);\n    var indexOfDot = newString.indexOf('.');\n    var indexOfE = newString.indexOf('e');\n\n    if (isNaN(newNumber)) {\n      if (indexOfDot === -1 && indexOfE > 0 && indexOfE === newString.length - 1 && Number(newString.slice(0, indexOfE)) !== 0) {\n        return new CleanParse(oldNumber);\n      } else {\n        return new NotAValidDollarAmountWarning(oldNumber);\n      }\n    }\n\n    var newCurrencyString = currencyValidator.format(newNumber);\n    var newCurrencyNumber = Number(newCurrencyString);\n\n    if (newCurrencyNumber === newNumber) {\n      if (indexOfE !== -1 && indexOfE === newString.length - 2) {\n        return new AutomaticConversionWarning(newNumber);\n      } else {\n        return new CleanParse(newNumber);\n      }\n    } else {\n      return new NotAValidDollarAmountWarning(newNumber > newCurrencyNumber ? newCurrencyNumber : oldNumber);\n    }\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (currencyValidator);\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vant__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vant___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vant__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vant_lib_vant_css_index_css__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vant_lib_vant_css_index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vant_lib_vant_css_index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__assets_styles_common_css__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__assets_styles_common_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__assets_styles_common_css__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n/**\r\n * We'll load the axios HTTP library which allows us to easily issue requests\r\n * to our Laravel back-end. This library automatically handles sending the\r\n * CSRF token as a header based on the value of the \"XSRF\" token cookie.\r\n */\n\nwindow.axios = __webpack_require__(17);\n\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].config.productionTip = false;\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2_vant___default.a);\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ })\n\n},[66]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-229a9de2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-229a9de2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-229a9de2\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 18\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f026bcd0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./Currency.vue\")\n}\nvar Component = require(\"!../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./Currency.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f026bcd0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./Currency.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-f026bcd0\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Currency.vue\n// module id = 40\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"paycode\"\n  }, [_c('van-row', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"margin-top\": \"3rem\"\n    }\n  }, [_c('van-icon', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"font-size\": \"4rem\",\n      \"color\": \"red\"\n    },\n    attrs: {\n      \"name\": \"receive-gift\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"1rem\"\n    }\n  }, [(_vm.qrcode.type == '0') ? _c('span', [_vm._v(_vm._s(_vm.seller))]) : _c('span', {\n    staticStyle: {\n      \"font-size\": \"2rem\"\n    }\n  }, [_vm._v(\"￥\" + _vm._s(_vm.qrcode.amount))])])], 1), _vm._v(\" \"), (_vm.qrcode.type == '1') ? _c('van-row', {\n    staticStyle: {\n      \"margin-top\": \"2rem\"\n    }\n  }, [_c('van-cell-group', [_c('van-cell', {\n    attrs: {\n      \"title\": \"收款理由：\"\n    }\n  }, [_vm._v(_vm._s(_vm.qrcode.qrpay_name))])], 1)], 1) : _c('van-row', {\n    staticStyle: {\n      \"margin-top\": \"2rem\"\n    }\n  }, [_c('van-cell-group', [_c('van-cell', {\n    attrs: {\n      \"title\": \" 付款金额\",\n      \"icon\": \"edit\"\n    }\n  }), _vm._v(\" \"), _c('currency-input', {\n    attrs: {\n      \"isGray\": _vm.isGray,\n      \"updateGray\": _vm.isGray\n    },\n    on: {\n      \"update:updateGray\": function($event) {\n        _vm.isGray = $event\n      }\n    },\n    model: {\n      value: (_vm.qrcode.amount),\n      callback: function($$v) {\n        _vm.qrcode.amount = $$v\n      },\n      expression: \"qrcode.amount\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('van-row', {\n    staticStyle: {\n      \"margin-top\": \"2rem\"\n    }\n  }, [_c('van-col', {\n    attrs: {\n      \"offset\": \"2\",\n      \"span\": \"20\"\n    }\n  }, [_c('van-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"block\": \"\"\n    },\n    on: {\n      \"click\": _vm.doPay\n    }\n  }, [_vm._v(\"立即支付\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-229a9de2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 41\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"currency\"\n  }, [(_vm.label) ? _c('label', [_vm._v(_vm._s(_vm.label))]) : _vm._e(), _vm._v(\" \"), _c('input', {\n    ref: \"input\",\n    class: {\n      gray: _vm.isGray\n    },\n    attrs: {\n      \"maxlength\": \"7\"\n    },\n    domProps: {\n      \"value\": _vm.value\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.updateValue($event.target.value)\n      },\n      \"focus\": _vm.selectAll,\n      \"blur\": _vm.formatValue\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-f026bcd0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Currency.vue\n// module id = 42\n// module chunks = 1","<template>\n  <div class=\"paycode\">\n    <van-row style=\"text-align: center; margin-top: 3rem;\">\n      <van-icon name=\"receive-gift\" style=\"text-align: center; font-size: 4rem; color: red;\"></van-icon>\n      <div style=\"margin-top: 1rem;\">\n        <span v-if=\"qrcode.type == '0'\">{{ seller }}</span>\n        <span style=\"font-size: 2rem;\" v-else>￥{{ qrcode.amount }}</span>\n      </div>\n    </van-row>\n\n    <van-row style=\"margin-top: 2rem;\" v-if=\"qrcode.type == '1'\">\n      <van-cell-group>\n        <van-cell title=\"收款理由：\">{{ qrcode.qrpay_name }}</van-cell>\n      </van-cell-group>\n    </van-row>\n\n    <van-row style=\"margin-top: 2rem;\" v-else>\n      <van-cell-group>\n        <van-cell title=\" 付款金额\" icon=\"edit\"></van-cell>\n        <currency-input\n          v-model=\"qrcode.amount\"\n          :isGray=\"isGray\"\n          :updateGray.sync=\"isGray\"\n        ></currency-input>\n      </van-cell-group>\n    </van-row>\n\n    <van-row style=\"margin-top: 2rem;\">\n      <van-col offset=\"2\" span=\"20\">\n        <van-button type=\"primary\" block v-on:click=\"doPay\">立即支付</van-button>\n      </van-col>\n    </van-row>\n  </div>\n</template>\n\n<script>\nimport {Toast} from 'vant'\nimport currencyInput from '@/components/Currency'\nimport qs from 'qs'\n\nexport default {\n  name: 'paycode',\n  data: function () {\n    return {\n      qrpay_id: 0,\n      isGray: true,\n      isReadonly: false,\n      seller: '',\n      qrcode: [],\n      locked: false,\n    }\n  },\n  components: {\n    'currency-input': currencyInput\n  },\n  created: function () {\n    this.qrpay_id = window.qrpay_id || 0;\n    this.getQrcodeDetail(this.qrpay_id)\n  },\n  methods: {\n    doPay: function () {\n      let that = this\n      if(that.locked == false){\n        that.locked = true\n        let amount = parseFloat(that.qrcode.amount)\n        if (isNaN(amount)) {\n          Toast({\n            message: '请输入支付金额',\n            forbidClick: true\n          })\n        }\n\n        axios.post(window.home_url + '/index.php?m=qrpay&a=pay', qs.stringify({\n          id: that.qrpay_id,\n          amount: that.qrcode.amount,\n          _ajax: 1\n        }))\n          .then(function (response) {\n            that.locked = false\n            let res = response.data\n            if (res.error > 0) {\n              alert(res.message)\n            }\n\n            // just do it\n            if (res.paycode == 'alipay'){\n              window.open(res.payment)\n            } else if (res.paycode == 'wxpay') {\n              that.callpay(JSON.parse(res.payment))\n            }\n\n            // console.log(response);\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      }\n    },\n    getQrcodeDetail: function (id) {\n      let that = this\n      axios.get(window.home_url + '/index.php?m=qrpay&id=' + parseInt(id), {\n        params: {_ajax: 1}\n      })\n        .then(function (response) {\n          that.seller = response.data.seller;\n          that.qrcode = response.data.qrcode;\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n    jsApiCall: function (ret) {\n      WeixinJSBridge.invoke(\"getBrandWCPayRequest\", ret, function (res) {\n        if (res.err_msg == \"get_brand_wcpay_request:ok\") {\n          location.href = window.home_url + '/index.php?m=qrpay&a=callback&status=1&id=' + this.qrpay_id\n        } else {\n          location.href = window.home_url + '/index.php?m=qrpay&a=callback&status=0&id=' + this.qrpay_id\n        }\n      })\n    },\n    callpay: function (ret) {\n      if (typeof WeixinJSBridge == \"undefined\") {\n        if (document.addEventListener) {\n          document.addEventListener(\"WeixinJSBridgeReady\", this.jsApiCall(ret), false);\n        } else if (document.attachEvent) {\n          document.attachEvent(\"WeixinJSBridgeReady\", this.jsApiCall(ret));\n          document.attachEvent(\"onWeixinJSBridgeReady\", this.jsApiCall(ret));\n        }\n      } else {\n        this.jsApiCall(ret);\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .price {\n    font-size: 3rem;\n    height: 5rem;\n    line-height: 4rem;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?1b6189fe","<template>\n  <div class=\"currency\">\n    <label v-if=\"label\">{{ label }}</label>\n    <input\n      ref=\"input\"\n      v-bind:value=\"value\"\n      v-on:input=\"updateValue($event.target.value)\"\n      v-on:focus=\"selectAll\"\n      v-on:blur=\"formatValue\"\n      v-bind:class=\"{gray: isGray}\"\n      maxlength=\"7\"\n    >\n  </div>\n</template>\n\n<script>\n  import currencyValidator from '@/filters/currency_validator'\n\n  export default {\n    name: 'currency',\n    props: {\n      value: {\n        type: Number,\n        default: 0\n      },\n      label: {\n        type: String,\n        default: '￥'\n      },\n      isGray: {\n        type: Boolean,\n        default: true\n      },\n      isReadonly: {\n        type: Boolean,\n        default: false\n      }\n    },\n    mounted: function () {\n      this.formatValue()\n    },\n    methods: {\n      updateValue: function (value) {\n        var result = currencyValidator.parse(value, this.value)\n        this.$emit('update:updateGray', (result.value === 0))\n        if (result.warning) {\n          this.$refs.input.value = result.value\n        }\n        result.value = result.value >= 10000 ? 9999.99 : result.value\n        this.$emit('input', result.value)\n      },\n      formatValue: function () {\n        this.$refs.input.value = currencyValidator.format(this.value)\n      },\n      selectAll: function (event) {\n        // Workaround for Safari bug\n        // http://stackoverflow.com/questions/1269722/selecting-text-on-focus-using-jquery-not-working-in-safari-and-chrome\n        setTimeout(function () {\n          event.target.select()\n        }, 0)\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .currency {\n    display: table;\n    position: relative;\n    padding: 10px 15px 10px 0;\n    box-sizing: border-box;\n    background-color: #fff;\n    color: #333;\n    overflow: hidden;\n  }\n\n  .currency label {\n    width: 60px;\n    height: 60px;\n    line-height: 60px;\n    font-size: 48px;\n    position: absolute;\n    top: 10px;\n    left: 0;\n  }\n\n  .currency input {\n    width: 100%;\n    height: 60px;\n    line-height: 60px;\n    margin-left: 60px;\n    padding: 0;\n    font-size: 48px;\n    display: block;\n    border: 0;\n    resize: none;\n    outline: 0;\n  }\n\n  .currency .gray {\n    color: gray;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Currency.vue?2cf4d412","let currencyValidator = {\r\n  format: function (number) {\r\n    return (Math.trunc(number * 1000000000000) / 1000000000000).toFixed(2)\r\n  },\r\n  parse: function (newString, oldNumber) {\r\n    var CleanParse = function (value) {\r\n      return {value: value}\r\n    }\r\n    var CurrencyWarning = function (warning, value) {\r\n      return {\r\n        warning: warning,\r\n        value: value,\r\n        attempt: newString\r\n      }\r\n    }\r\n    var NotAValidDollarAmountWarning = function (value) {\r\n      return new CurrencyWarning(newString + ' is not a valid dollar amount', value)\r\n    }\r\n    var AutomaticConversionWarning = function (value) {\r\n      return new CurrencyWarning(newString + ' was automatically converted to ' + value, value)\r\n    }\r\n\r\n    var newNumber = Number(newString)\r\n    var indexOfDot = newString.indexOf('.')\r\n    var indexOfE = newString.indexOf('e')\r\n\r\n    if (isNaN(newNumber)) {\r\n      if (\r\n        indexOfDot === -1 &&\r\n        indexOfE > 0 &&\r\n        indexOfE === newString.length - 1 &&\r\n        Number(newString.slice(0, indexOfE)) !== 0\r\n      ) {\r\n        return new CleanParse(oldNumber)\r\n      } else {\r\n        return new NotAValidDollarAmountWarning(oldNumber)\r\n      }\r\n    }\r\n\r\n    var newCurrencyString = currencyValidator.format(newNumber)\r\n    var newCurrencyNumber = Number(newCurrencyString)\r\n\r\n    if (newCurrencyNumber === newNumber) {\r\n      if (indexOfE !== -1 && indexOfE === newString.length - 2) {\r\n        return new AutomaticConversionWarning(newNumber)\r\n      } else {\r\n        return new CleanParse(newNumber)\r\n      }\r\n    } else {\r\n      return new NotAValidDollarAmountWarning(\r\n        newNumber > newCurrencyNumber\r\n          ? newCurrencyNumber\r\n          : oldNumber\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default currencyValidator\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters/currency_validator.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport ZanUI from 'vant'\r\nimport 'vant/lib/vant-css/index.css'\r\nimport './assets/styles/common.css'\r\n\r\n/**\r\n * We'll load the axios HTTP library which allows us to easily issue requests\r\n * to our Laravel back-end. This library automatically handles sending the\r\n * CSRF token as a header based on the value of the \"XSRF\" token cookie.\r\n */\r\n\r\nwindow.axios = require('axios')\r\n\r\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\r\n\r\nVue.config.productionTip = false\r\nVue.use(ZanUI)\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  template: '<App/>',\r\n  components: { App }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}